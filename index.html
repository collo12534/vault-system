<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Local ISP Billing & Captive Portal Prototype</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <h1>LocalISP â€¢ Portal</h1>
    <div class="top-actions">
      <button id="open-admin">Admin</button>
    </div>
  </header>

  <main id="root" class="container">
    <!-- Captive portal / Login -->
    <section id="portal" class="card">
      <h2>Connect to Wi-Fi</h2>
      <p>Enter phone or email to login, or redeem a voucher.</p>

      <div class="form-row">
        <input id="login-identity" placeholder="Phone or email" />
        <button id="btn-login">Sign In</button>
      </div>

      <div class="form-row">
        <input id="voucher-code" placeholder="Voucher code (optional)" />
        <button id="btn-redeem">Redeem Voucher</button>
      </div>

      <div id="portal-message" class="muted"></div>
    </section>

    <!-- Admin modal -->
    <div id="admin-modal" class="modal hidden">
      <div class="modal-content">
        <button class="close" id="close-admin">&times;</button>
        <h2>Admin Dashboard</h2>

        <div class="grid">
          <div class="card">
            <h3>Create voucher</h3>
            <div class="form-row">
              <input id="voucher-value" placeholder="Minutes or MB (e.g. 60m / 500MB)" />
              <button id="create-voucher">Create</button>
            </div>
            <small id="last-voucher" class="muted"></small>
          </div>

          <div class="card">
            <h3>Users</h3>
            <div id="user-list" class="list"></div>
          </div>

          <div class="card">
            <h3>Billing / Deposits</h3>
            <div class="form-row">
              <select id="deposit-user"></select>
              <input id="deposit-amount" placeholder="Amount (KES)" />
              <button id="make-deposit">Deposit</button>
            </div>
            <div id="ledger" class="list small"></div>
          </div>
        </div>

        <div class="card">
          <h3>Notifications</h3>
          <div id="notifications" class="list small"></div>
        </div>
      </div>
    </div>

    <div id="toast" class="toast hidden"></div>
  </main>

  <script src="app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  (function() {
    emailjs.init("YOUR_PUBLIC_KEY"); // Replace with your EmailJS Public Key
  })();
</script>

</body>
</html>
